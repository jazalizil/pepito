#!/usr/bin/env python2

import operator
import sys
import binascii

arg=sys.argv[1]
passwd_enc = ""
letter = ''
i = 0
key = int(sys.argv[2])
while i < len(arg):
  if arg[i] == 'x':
    if (arg[i+1:i+3] != "00"):
      passwd_enc += arg[i+1:i+3]
  i += 1
print"\033[01;29mPass encrypted:", passwd_enc, "\033[00m"
print"\033[01;32mEncrypt key (decimal value):", sys.argv[2], "\033[00m"

i = 0
passwd = ""
while i < len(passwd_enc):
  if i % 2 == 0:
    letter = passwd_enc[i:i+2]
    letter = binascii.unhexlify(letter)
    letter = int(ord(letter)) ^ key
    print "(", passwd_enc[i:i+2], "(16) = ", letter, "(10) )\t ^ ", key, " = \033[01;35m", chr(letter), "\033[00m"
    passwd += chr(letter)
  i += 1
print "\033[01;33madminPassword decrypted!", "\033[00m", "\033[01;31m\npass:", passwd, "\033[00m"
